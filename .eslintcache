[{"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/index.tsx":"1","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSPreview.tsx":"2","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/pages/EditorPage.tsx":"3","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/utils.ts":"4","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/pages/ExamplesPage.tsx":"5","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/worker/index.ts":"6","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/worker/worker.ts":"7","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSTextViewer.tsx":"8","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSAllViewer.tsx":"9","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/index.ts":"10","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/pages/Examples/Lilac.tsx":"11","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/pages/Examples/TextGarden.tsx":"12","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/pages/Examples/Webpage.tsx":"13","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSImageViewer/index.tsx":"14","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSImageViewer/LSImageViewerController.tsx":"15","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSImageViewer/LSImageViewer3D.tsx":"16","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSImageViewer/LSImageViewer2D.tsx":"17","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSImageViewer/drawChar.ts":"18","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSImageViewer/LSImageViewerBasic.tsx":"19","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSEditAndView.tsx":"20","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSEditor/LSEditor.tsx":"21","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSEditor/LSStatusConsole.tsx":"22","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSEditor/LSCodeEditor.tsx":"23","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSEditor/LSGFXEditor.tsx":"24"},{"size":1061,"mtime":1627854113920,"results":"25","hashOfConfig":"26"},{"size":4428,"mtime":1629409030411,"results":"27","hashOfConfig":"26"},{"size":1453,"mtime":1630700749933,"results":"28","hashOfConfig":"26"},{"size":3503,"mtime":1630698374164,"results":"29","hashOfConfig":"26"},{"size":3816,"mtime":1620881620411,"results":"30","hashOfConfig":"26"},{"size":612,"mtime":1627852862790,"results":"31","hashOfConfig":"26"},{"size":654,"mtime":1627852181355,"results":"32","hashOfConfig":"26"},{"size":365,"mtime":1627853312579,"results":"33","hashOfConfig":"26"},{"size":927,"mtime":1630700187900,"results":"34","hashOfConfig":"26"},{"size":260,"mtime":1629488918289,"results":"35","hashOfConfig":"26"},{"size":3146,"mtime":1629489276811,"results":"36","hashOfConfig":"26"},{"size":2258,"mtime":1629489086180,"results":"37","hashOfConfig":"26"},{"size":2963,"mtime":1629489084742,"results":"38","hashOfConfig":"26"},{"size":282,"mtime":1629488885977,"results":"39","hashOfConfig":"26"},{"size":4686,"mtime":1629498549702,"results":"40","hashOfConfig":"26"},{"size":508,"mtime":1629489247565,"results":"41","hashOfConfig":"26"},{"size":978,"mtime":1629489229976,"results":"42","hashOfConfig":"26"},{"size":2958,"mtime":1629487385715,"results":"43","hashOfConfig":"26"},{"size":2552,"mtime":1629489257359,"results":"44","hashOfConfig":"26"},{"size":1408,"mtime":1630700955858,"results":"45","hashOfConfig":"26"},{"size":2958,"mtime":1630701587225,"results":"46","hashOfConfig":"26"},{"size":1086,"mtime":1630699611567,"results":"47","hashOfConfig":"26"},{"size":2132,"mtime":1630700682811,"results":"48","hashOfConfig":"26"},{"size":2014,"mtime":1630701572342,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"1r4qygr",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"52"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"52"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"52"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"52"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"52"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"52"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"52"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"52"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"52"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"52"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/index.tsx",[],["109","110"],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSPreview.tsx",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/pages/EditorPage.tsx",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/utils.ts",["111"],"import p5 from \"p5\";\nimport queryString from \"query-string\"\n\n\n\nexport const defaultLSData = {\n  axiom: \"A\",\n  productionText: [\"A:FA\"],\n  iterations: 10\n}\n\nexport type P5CanvasType = \"webgl\" | \"p2d\"\nexport type renderTypes = \"2d\" | \"3d\" | \"text\" | \"pixel\";\n\nexport interface CompleteLSExample {\n  lsProps: LSProps\n  gfxProps?: GFXProps\n  name?: string\n}\n\nexport interface LSStatus {\n  state : \"compiling\" | \"compiled\" | \"error\" | \"ready\",\n  errors?: Error[]\n}\nexport interface LSProps {\n  axiom: string\n  productions: string[]\n  iterations: number\n}\n\nexport interface GFXPropsComplete {\n  renderType: renderTypes[]\n  length: number\n  angle: number\n  center: number[]\n  width: number\n  height: number\n  strokeWeight: number\n  backgroundColor: string\n  animationWaitTime: number,\n  iterations: number\n}\n\nconst defaultGFXProps: GFXPropsComplete = {\n  renderType: [\"2d\"],\n  length: 10,\n  angle: 30,\n  center: [0,0],\n  width: 600,\n  height: 600,\n  strokeWeight: 1,\n  backgroundColor:\"#eee\",\n  animationWaitTime: 500,\n  iterations: 1\n}\n\nexport const completeGfxProps = (gfxProps: GFXProps | undefined) : GFXPropsComplete => {\n  if ( gfxProps === undefined) return defaultGFXProps\n  return {...defaultGFXProps, ...gfxProps};\n}\n\nexport type GFXProps = Partial<GFXPropsComplete>\n\n\nexport function flattenLSProps(ls: LSProps, delimiter: string) {\n  let stringArr = [ls.axiom, ...ls.productions];\n  return stringArr.reduce((str, t) => str + t + delimiter, \"\")\n}\n\nfunction cleanParam(o: string | string[]): string {\n  if (o instanceof Array) {\n    return o[0] as string\n  }\n  else return o as string\n}\nexport function decodeParams(paramString: string): {lsProps: LSProps, gfxProps?: GFXProps} {\n  const parsed = queryString.parse(paramString);\n  let axiom = parsed.a ? cleanParam(parsed.a) : defaultLSData.axiom;\n  let iterations = parsed.i ? parseFloat(cleanParam(parsed.i)) : defaultLSData.iterations;\n  let productions = defaultLSData.productionText;\n  if (parsed.p) productions = parsed.p instanceof Array ? parsed.p : [cleanParam(parsed.p)];  \n  let gfxProps : GFXProps = {};\n  if (parsed.length || parsed.angle) {\n    if (parsed.length) gfxProps.length = parseFloat(cleanParam(parsed.length));\n    if (parsed.angle) gfxProps.angle = parseFloat(cleanParam(parsed.angle))\n    if (parsed.c0) gfxProps.center = [parseFloat(cleanParam(parsed.c0)),0];\n    if (parsed.c1) gfxProps.center = [gfxProps.center ? gfxProps.center[0] : 0, parseFloat(cleanParam(parsed.c1))];\n  }\n  return {lsProps: {axiom: axiom, iterations: iterations, productions: productions}, gfxProps: gfxProps};\n} \n\nexport function encodeParams(lsProps: Partial<LSProps>, gfxProps?: GFXProps) {\n  let axiomString = lsProps.axiom ? \"a=\" + encodeURIComponent(lsProps.axiom) : \"a=\";\n  let iterationString = lsProps.iterations ? \"&i=\" + encodeURIComponent(lsProps.iterations) : \"\";\n  let productionString = lsProps.productions ? lsProps.productions.reduce((str, p) => str + \"&p=\" + encodeURIComponent(p), \"\") : \"\";\n  \n  \n  let gfxPropsString = \"\"; \n  if (gfxProps) {\n    if (gfxProps.length) {\n      gfxPropsString += \"&length=\" + encodeURIComponent(gfxProps.length);\n    }\n    if (gfxProps.angle) {\n      gfxPropsString += \"&angle=\" + encodeURIComponent(gfxProps.angle);\n    }\n    if(gfxProps.center) {\n      gfxPropsString += \"&c0=\" + encodeURIComponent(gfxProps.center[0]) + \"&c1=\" + encodeURIComponent(gfxProps.center[1])\n    }\n  }\n  let paramString =  \"?\" + axiomString + productionString + iterationString + gfxPropsString;\n  return paramString;\n}","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/pages/ExamplesPage.tsx",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/worker/index.ts",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/worker/worker.ts",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSTextViewer.tsx",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSAllViewer.tsx",["112","113"],"import LSystem from \"@bvk/lsystem\";\nimport React from \"react\";\nimport { completeGfxProps, GFXProps } from \"../utils\";\nimport LSImageViewer from \"./LSImageViewer\";\nimport LSTextViewer from \"./LSTextViewer\";\n\n/* LSViewer.ts\n * This class shows a given LSystem and GFXProps (through Props) in every renderer\n * It is used primarily by LSEditor.\n * */\ninterface myProps {\n  LSystem: LSystem | undefined;\n  gfxProps?: GFXProps;\n}\nexport default class LSAllViewer extends React.Component<myProps> {\n  render() {\n    return this.props.LSystem ? (\n      <div className=\"canvas-border stack border\">\n        {/* <LSImageViewer key=\"image-viewer\" lSystem={this.props.LSystem} gfxProps={this.props.gfxProps} /> */}\n        <div key=\"text-viewer\" className=\"black-border\" style={{ width: \"600px\", height: \"600px\" }}>\n          {LSTextViewer(this.props.LSystem)}\n        </div>\n      </div>\n    ) : (\n      \"No L-System activated yet\"\n    );\n  }\n}\n","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/index.ts",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/pages/Examples/Lilac.tsx",["114"],"import LSystem, { ParamsValue } from \"@bvk/lsystem\"\nimport p5 from \"p5\"\nimport LSImageViewer3D from \"../../components/LSViewer/LSImageViewer3D\"\nimport { CompleteLSExample, GFXProps } from \"../../components/utils\"\n\nconst lilacData: CompleteLSExample = {\n  name: \"lilac\",\n  lsProps: {\n    axiom: \"!(0.9) #(120) [ -(44)  ^(20) F(50) AK ] \",\n    productions: [\n      \"A: P I(0) /(90)  A\",\n      \"I(t) {t!=2}:  F I(t+1)\",\n      \"I(t) {t==2}: ^(rnd(5,15)) #(rnd(60,150)) I(t+1)[-(45)FFA][+(45)FFA][FFA]\",\n      \"P: [-(45)/(45)K][+(45)/(45)K]\",\n      \"K: [F #(100) F [~ M(0.05)]]\",\n      \"M(s) {s<0.1}: M(s+0.05)\",\n      \"M(s) {s>=0.1}: M(0.1)\"\n    ],\n    iterations: 16,\n  },\n  gfxProps: {\n    length: 3,\n    renderType: [\"3d\"],\n    width: 1200,\n    height: 850,\n    angle: 8\n  },\n};\nexport default function Lilac() {\n  let ls =  new LSystem(lilacData.lsProps.axiom, lilacData.lsProps.productions, lilacData.lsProps.iterations);\n  let gfxProps = lilacData.gfxProps; \n\n  return (\n    <div > \n      <DrawLilac LSystem={ls} GFXProps={gfxProps} /> \n      \n    </div>)\n}\n\nconst flowerHue = 325;  \nclass DrawLilac extends LSImageViewer3D {\n  windAngle = 0;\n  animationSpeed = 600;\n  preload = (p: p5) => {\n    p.loadModel(\n      process.env.PUBLIC_URL + \"/assets/lily-flat.obj\",\n      true,\n      (m) => {\n        this.models.push(m);\n        this.startIterationAnimation()\n      },\n      (e) => {\n        console.log(\"Fail to load model\");\n      }\n    );\n  }\n  moveToCenter = () => {\n    //Do nothing, were already there\n    let p = this.p5Context;\n    if (!p) return;\n    p.background(200, 100,100,0.0);\n    \n    let pos = [-180,-150,-320];\n    p.ambientLight(flowerHue - 95, 80, 100);\n    p.pointLight(flowerHue, 80, 90, -500, -500, -900);\n    p.pointLight(flowerHue + 200, 80, 65, 200, 200, -300);\n    \n    p.camera(pos[0], pos[1], pos[2], pos[0], pos[1],0, 0,1,0);\n    \n  }\n  simulateWind = () => {\n    let maxBlows = Math.floor(Math.random() * 100 + 20);\n    for (var i = 0; i < maxBlows; i++) {\n      setTimeout(() => {\n        this.redraw();\n      }, i * 100);\n    }\n  }\n  drawModel = (p:p5, params: ParamsValue | undefined) => {\n    let scaleValue = params && params[0] ? parseFloat(params[0] as string) : 0.1;\n    let model = this.models[0];\n    if (!model) return;\n    p.push();\n\n    p.noStroke();\n    p.fill(100,100,100);   \n    p.specularMaterial(flowerHue,0,100)\n    p.scale(scaleValue);\n    p.model(model);\n    p.pop();\n  }\n  moveCamera = () => {\n    //Do nothing\n  }\n  render() {\n    return (\n      <div style={{backgroundImage: \"linear-gradient(white 30%, rgb(255,220,250))\"}}>\n        <div\n          style={{\n            position: \"fixed\",\n            top: \"12px\",\n            right: \"12px\",\n            width: \"24px\",\n            height: \"24px\",\n            borderRadius: \"100%\",\n            cursor: \"ne-resize\",\n            background: \"rgb(250,120,200)\"\n          }}\n          onClick={() => this.startIterationAnimation()}\n        >\n          {\" \"}\n        </div>\n        <div onClick={(e) => this.simulateWind()} ref={this.containerRef} style={{marginLeft: \"10%\"}}/>\n      </div>\n    );\n  }\n}","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/pages/Examples/TextGarden.tsx",["115","116"],"import LSystem, { ParamsValue } from \"@bvk/lsystem\";\nimport p5 from \"p5\";\nimport LSImageViewer2D from \"../../components/LSViewer/LSImageViewer2D\";\nimport { CompleteLSExample } from \"../../components/utils\";\n\n\nconst textFlower: CompleteLSExample = {\n  name: \"textFlower\",\n  lsProps: {\n    axiom: \"[S] \",\n    productions: [\n      \"S: A(rnd(5,10))\",\n      \"A(a) {a>=1}: F B(0) B(1) + A(a-1)\",\n      \"B(b) {b==0}: [+(75) F(20) f(10) T(0)]\",\n      \"B(b) {b==1}: [-(75) F(20) f(50) +(180) T(1)]\",\n      \"A(a) {a<1}: FFFF -(120) P(rnd(8,19))\",\n      \"P(p) {p>0}: [F(40) f(10) T(2)] [+(rnd(40,60)) P(p-1)]\",\n      \"P(p) {p==0}: X\"\n    ],\n    iterations: 30,\n  },\n  gfxProps: {\n    length: 40,\n    renderType: [\"2d\"],\n    width: 600,\n    height: 760,\n    angle: 5,\n    center: [0,0.4],\n  },\n};\n\nconst text = [{t:\"you\", s: 16},{t:\"thank\", s:16}, {t:\"â˜¼\", s: 18}]\nconst defaultText = {t: \"\", s: 12};\n\nexport default function textGarden() {\n  let ls = new LSystem(textFlower.lsProps.axiom, textFlower.lsProps.productions, textFlower.lsProps.iterations);\n  let gfxProps = textFlower.gfxProps\n  console.log(ls.getAllIterationsAsString());\n\n  return (<TextTurtle LSystem={ls} GFXProps={gfxProps}/>)\n}\nfunction drawText(p: p5, params: ParamsValue | undefined) {\n  let index =  params && params.length == 1 ? parseInt(params[0]  as string) : -1;\n  let textObj = index > -1 ? text[index] : defaultText;\n  p.push();\n  p.noStroke();\n  p.fill(0,0,0);\n  p.textSize(textObj.s);\n  p.text(textObj.t, 0,0);\n  p.pop();\n}\n\nclass TextTurtle extends LSImageViewer2D {\n  xPercent = 1;\n  preload = (p:p5) => { \n    p.textFont(\"helvetica\");\n  }\n  setDefaults = (p: p5) => {\n    let center = this.props.GFXProps?.center !== undefined ? [p.width * this.props.GFXProps?.center[0], p.height * this.props.GFXProps?.center[1]] : [0, 0];\n    let sw = this.props.GFXProps?.strokeWeight ? this.props.GFXProps?.strokeWeight : 1;\n    let defaultLength = this.props.GFXProps?.length ? this.props.GFXProps?.length : 0.01 * p.height;\n    let defaultAngle = this.xPercent * 5;\n    return {center, sw, defaultLength, defaultAngle}\n  }\n  customRules = {\n    \"T\": drawText \n  }\n  mouseMove = (e: React.MouseEvent) => {\n    let mouseX = e.pageX;\n    let mousePercentage = e.pageX / window.innerWidth - 0.5;\n    console.log(mousePercentage);\n    this.xPercent = mousePercentage;\n    this.redraw();\n  }\n  render() {\n    return (\n    <div onMouseMove={this.mouseMove} className=\"full-bleed\" style={{backgroundImage: \"linear-gradient(white 80%, rgba(140,255,100,0.6))\"}} >\n      <div ref={this.containerRef} style={{display: \"inline-block\", marginLeft: \"50%\", transform: \"translate(-50%, 0)\"}}/>\n    </div>)\n  }\n}\n\n","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/pages/Examples/Webpage.tsx",["117","118"],"import LSystem, { ParamsValue } from \"@bvk/lsystem\";\nimport p5 from \"p5\";\nimport LSImageViewer2D from \"../../components/LSViewer/LSImageViewer2D\";\nimport { CompleteLSExample } from \"../../components/utils\";\n\nlet webData : CompleteLSExample = {\n  lsProps: {\n    axiom: \"A(15)\", \n    productions: [\"A(a):f(a)+B(a)A(a+1)\", \"B(b):[-(90)ffT(b-15)]  [+(90) fff -(90) P(b-20)]\"],\n    iterations: 48\n  },\n  gfxProps: {\n    angle: 5,\n    length: 5,\n    width: 2000,\n    height: 800,\n    center: [-0.18,0.2]\n  }\n}\n\nexport default function WebPage() {\n  let ls = new LSystem(webData.lsProps.axiom, webData.lsProps.productions, webData.lsProps.iterations);\n  let gfxProps = webData.gfxProps;\n  return <WebTurtle LSystem={ls} GFXProps={gfxProps}/>\n}\n\n\nconst text = [\"Alt social \",\n\"Starry night - rhizome \",\n\"Run your own social \",\n\"Special fish\",\n\"Petals network\",\n\"cyberspace and as space\",\n\"Mastodon\",\n\"Feminist community networks \",\n\"Echo\",\n\"This is Fine: Optimism & Emergency in the P2P Network\",\n\"Distributed Web of Care\",\n\"PeerToPeerWeb / Dat\",\n\"Consentful Tech\",\n\"Rediscovering the small web\",\n\"Zonelets: \",\n\"Cozy web/extended internet universe\",\n\"Small web / site.js\",\n\"NYC mesh \",\n\"History of communication \",\n\"Black gooey universe \",\n\"Hand made web \",\n\"Hundred rabbits\",\n\"Dark Study \",\n\"Tiny tools list (everest pipkin)\",\n\"Wonderful world of weird creative tools \",\n\"Glyph Drawing Club\",\n\"Programs | Emergent Works\",\n\"Casual creation tools - a paper \",\n\"SQLLite story\",\n\"Jeffrey Alan schuder\",\n\"Picrew: Create avatars\",\n\"coming age of calm tech - xerox parc\",\n\"The rise of the ambient video game\",\n\"Using the internet mindfully\",\n\"Soft.works\",\n\"hardlyeverything.co\",\n\"How to grow an idea\",]\n\nconst defaultText = \"\";\n\n\nfunction drawText(p: p5, params: ParamsValue | undefined) {\n  let index =  params && params.length == 1 ? parseInt(params[0]  as string) : -1;\n  let textObj = index > -1 ? text[index] : defaultText;\n  p.push();\n  p.noStroke();\n  p.fill(230,100,100);\n  p.textSize(12);\n  p.textStyle()\n  p.text(textObj, 0,0);\n  p.pop();\n}\n\nconst t2 = [\"m\",\n\"y\",\n\" \",\n\"f\",\n\"a\",\n\"v\",\n\"o\",\n\"r\",\n\"i\",\n\"t\",\n\"e\",\n\" \",\n\"r\",\n\"e\",\n\"f\",\n\"e\",\n\"r\",\n\"e\",\n\"n\",\n\"c\",\n\"e\",\n\"s\", ]\n\nfunction drawText2(p: p5, params: ParamsValue | undefined) {\n  let index =  params && params.length == 1 ? parseInt(params[0]  as string) : -1;\n  let textObj = index > -1 && index < t2.length ? t2[index] : defaultText;\n  p.push();\n  p.noStroke();\n  p.fill(0,0,0);\n  p.textSize(14);\n  p.textStyle()\n  p.text(textObj, 0,0);\n  p.pop();\n}\n\nclass WebTurtle extends LSImageViewer2D {\n\n  animationSpeed = 1000;\n  preload = (p:p5) => { \n    //p.textFont(\"consolas\");\n  }\n  customRules = {\n    \"T\": drawText,\n    \"P\": drawText2\n  }\n\n  render() {\n    return (\n    <div className=\"full-bleed\"  >\n      <div ref={this.containerRef} style={{display: \"inline-block\", marginLeft: \"50%\", transform: \"translate(-50%, 0)\"}}/>\n    </div>)\n  }\n}\n\n","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSImageViewer/index.tsx",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSImageViewer/LSImageViewerController.tsx",["119","120","121","122","123","124"],"import React, {useCallback, useRef, useState} from \"react\";\nimport LSystem, { Axiom } from \"@bvk/lsystem\";\nimport { completeGfxProps, GFXProps, P5CanvasType, renderTypes } from \"../../utils\";\nimport LSImageViewer2D from \"./LSImageViewer2D\";\nimport LSImageViewer3D from \"./LSImageViewer3D\";\nimport { useEffect } from \"react\";\nimport { createImportSpecifier } from \"typescript\";\n\n\ninterface LSImageViewerControllerProps {\n  lSystem: LSystem,\n  gfxProps?: GFXProps,\n  animationEnabled?: boolean,\n  swaprenderStyleEnabled?: boolean\n}\n\ntype ImageRenderTypes = \"2d\" | \"3d\";\n\n\nconst getViewerType = (lSystem: LSystem, gfxProps?: GFXProps) : ImageRenderTypes => {\n  if (gfxProps && gfxProps.renderType) {\n    if (gfxProps.renderType.includes(\"2d\")) \n      return \"2d\"\n    if (gfxProps.renderType.includes(\"3d\")) \n      return \"3d\"\n  }\n  let iterationString = lSystem.getIterationAsString();\n  if (iterationString.match(`.*[&^\\\\\\/].*`)) {\n    console.log(\"Is 3d\");\n    return \"3d\";\n  } else {\n    return \"2d\"\n  }\n}\nconst LSImageViewerController : React.FunctionComponent<LSImageViewerControllerProps> = (props) => {\n\n  const [viewerType, setViewerType] = useState<ImageRenderTypes>( getViewerType(props.lSystem, props.gfxProps));\n  const [currentAxiom, setCurrentAxiom] = useState<Axiom>(props.lSystem.getIterationAsObject())\n  const [allCurrentAxioms, setAllCurrentAxioms] = useState<Axiom[]>(props.lSystem.getAllIterationsAsObject())\n  const [currentIteration, setCurrentIteration] = useState<number>(props.lSystem.iterations);\n\n  const currentlyAnimating = useRef<boolean>(false);\n\n  const getViewer = useCallback(() => {\n    const viewerProps = { gfxProps: completeGfxProps(props.gfxProps), axiom: currentAxiom}\n    return viewerType === \"3d\" ? <LSImageViewer2D {...viewerProps} />: <LSImageViewer3D {...viewerProps} />\n  }, [ props.gfxProps, currentAxiom, viewerType])\n\n  useEffect( () => {\n    setAllCurrentAxioms(props.lSystem.getAllIterationsAsObject())\n    setCurrentIteration(props.lSystem.iterations);\n  }, [ props.lSystem, props.lSystem.iterations])\n\n  useEffect( () => {\n    setCurrentAxiom(allCurrentAxioms[currentIteration]);\n  }, [currentIteration, allCurrentAxioms])\n\n  useEffect(() => {\n    const newViewerType = getViewerType(props.lSystem, props.gfxProps);\n    setViewerType(newViewerType);\n  }, [props.lSystem, props.gfxProps])\n\n\n  const stopIterationAnimation = () => {\n    console.log(\"Anim stop\", currentIteration);\n    currentlyAnimating.current = false;\n  }\n  const startIterationAnimation = () => {\n    console.log(\"Anim start\");\n    currentlyAnimating.current = true;\n    setCurrentIteration(0);\n  }\n  useEffect(() => {\n    console.log(\"Current iteration changed\");\n    if (currentIteration === props.lSystem.iterations || currentlyAnimating.current == false) {\n      stopIterationAnimation();\n    } else {\n      setTimeout(() => setCurrentIteration(currentIteration +1), 100);\n    }\n  }, [currentIteration, props.lSystem.iterations])\n\n\n  return (\n    <div>\n      viewer: {viewerType} , iterations: {currentIteration}, animate:\n      {currentlyAnimating.current === true ? (\n        <span onClick={() => stopIterationAnimation()} className=\"clickable\"> stop </span>\n      ) : (\n        <span onClick={() => startIterationAnimation()} className=\"clickable\"> start </span>\n      )}\n      {getViewer()}\n    </div>\n  );\n}\n\nexport default LSImageViewerController\n// const viewerType = getViewerType(props.lSystem, props.gfxProps)\n// const viewerProps = { gfxProps: completeGfxProps(props.gfxProps) , axiom: props.lSystem.getIterationAsObject()}\n\n// return (\n//   <div>\n//     viewer: {viewerType}\n//     iterations: { props.lSystem.iterations}\n//     {viewerType === \"3d\" ? <LSImageViewer3D {...viewerProps} /> : <LSImageViewer2D {...viewerProps}/>  }\n\n//   </div>\n// )","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSImageViewer/LSImageViewer3D.tsx",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSImageViewer/LSImageViewer2D.tsx",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSImageViewer/drawChar.ts",["125"],"import p5 from \"p5\";\nimport { ParamsValue } from \"@bvk/lsystem\";\n\nexport const draw2DChar = (p : p5, char: string, l: number, a: number, params: ParamsValue | undefined) => {\n  if (!p) return;\n  switch (char) {\n    case \"F\":\n      p.line(0, 0, l, 0);\n      p.translate(l, 0);\n      break;\n    case \"f\":\n      p.translate(l, 0);\n      break;\n    case \"+\":\n      p.rotate(a);\n      break;\n    case \"-\":\n      p.rotate(-a);\n      break;\n    case \"[\":\n      p.push()\n      break;\n    case \"]\":\n      p.pop();\n      break;\n    case \"E\":\n      p.ellipse(0, 0, l, l);\n      break;\n    case \"!\":\n      p.strokeWeight(l)\n      break;\n    case \"~\":\n      p.rotate(Math.random() * a);\n      break;\n    case \"#\":\n      if (!l || l == 0) p.stroke(0, 0, 0);\n      else {\n        let h = params && params[0] ? parseFloat(params[0] as string) : 0;\n        let s = params && params[1] ? parseFloat(params[1] as string) : 100;\n        let b = params && params[2] ? parseFloat(params[2] as string) : 100;\n        p.stroke(h, s, b);\n      }\n      break;\n    default:\n      console.log(char + \" isn't turtle command\");\n  }\n}\n\nexport const draw3DChar = (p: p5, char: string, l: number, a: number, params: ParamsValue | undefined) => {\n  if (!p) return\n  switch (char) {\n    case \"F\":\n      p.line(0, 0, 0, l);\n      p.translate(0, l);\n      break;\n    case \"f\":\n      p.translate(0, l);\n      break;\n    case \"[\":\n      p.push();\n      break;\n    case \"]\":\n      p.pop();\n      break;\n    //Here: Yaw is around Z axis, giving you +/- on the YX plane \n    //What that means, is a 2d curve will be drawn on the YX plane  \n    case \"+\":\n      p.rotateZ(a);\n      break;\n    case \"-\":\n      p.rotateZ(-a);\n      break;\n    //PITCH is around X axis, giving you &/^ (pitch down/up) \n    //So pitching up down gives you rotation \"up/down\" w.r.t to up axis \n    case \"&\":\n      p.rotateX(a);\n      break;\n    case \"^\":\n      p.rotateX(-a)\n      break;\n    //ROLL is around Y axis, gives you a roll around itself\n    //Without any PITCH, Roll is meaningless for a line (just rolls around itself)\n    case '\\'':\n      p.rotateY(a);\n      break;\n    case '/':\n      p.rotateY(-a);\n      break;\n    case \"E\":\n      if (params && params[1]) {\n        p.fill(parseFloat(params[1] as string), 100,100 );\n      }\n      p.ellipse(0, 0, l, l);\n      p.noFill();\n      break;\n    case \"!\":\n      p.strokeWeight(l)\n      break;\n    case \"~\":\n      p.rotateX(Math.random() * a);\n      p.rotateY(Math.random() * a);\n      p.rotateZ(Math.random() * a);\n      break;\n    case \"#\":\n      p.stroke(l, 100, 100);\n      break;\n    case \"M\":\n      draw3DModel(p, params)\n      break;\n    default:\n      //console.log(char + \" isn't turtle command\");\n      break;\n    }\n  }\n\nconst draw3DModel = (p:p5, params: ParamsValue | undefined) => {\n  let scaleValue = params && params[0] ? parseFloat(params[0] as string) : 0.1;\n  p.push();\n  //p.specularMaterial(255);\n  p.scale(scaleValue);\n  p.box(100);\n  p.pop();\n}","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSViewer/LSImageViewer/LSImageViewerBasic.tsx",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSEditAndView.tsx",["126"],"import React from \"react\";\nimport LSystem from \"@bvk/lsystem\";\nimport LSCustomizer from \"./LSEditor/LSCustomizer\";\nimport { GFXProps, LSProps } from \"./utils\";\nimport LSAllViewer from \"./LSViewer\";\nimport { LSEditor } from \"./LSEditor/LSEditor\";\n\n\n/* LSEditor.ts\n* This class is a combination of an LSCustomizer and an LSViewer\n* It manages updates from the customizer, and mantains LS/GFXProps to pass into the viewer.\n* */\ninterface LSEditorState {\n  LSystem: LSystem | undefined,\n  gfxProps?: GFXProps\n}\ninterface LSEditorProps {\n  initLSProps: LSProps\n  initGFXProps?: GFXProps\n}\nexport default class LSEditAndView extends React.Component<LSEditorProps, LSEditorState> {\n  state: LSEditorState = {\n      LSystem: undefined,\n      gfxProps: this.props.initGFXProps || {}\n  }\n  onLSIterated = (LS: LSystem) => {\n      this.setState({ LSystem: LS })\n  }\n  onLSReset = (LS: LSystem) => {\n      this.setState({ LSystem: LS });\n  }\n  onGFXPropsUpdated = (gfxProps: GFXProps) => {\n      this.setState({gfxProps: gfxProps});\n  }\n  render() {\n      return (\n        <div className=\"side-by-side\">\n          <LSEditor\n            onLSReset={this.onLSReset}\n            onLSIterated={this.onLSIterated}\n            onGFXPropsUpdate={this.onGFXPropsUpdated}\n          />\n          <LSAllViewer LSystem={this.state.LSystem} gfxProps={this.state.gfxProps} />\n        </div>\n      );\n    }\n}\n\n","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSEditor/LSEditor.tsx",["127","128","129"],"\n\nimport LSystem, { Axiom, Production } from \"@bvk/lsystem\"\nimport React, { useState } from \"react\"\nimport { useEffect } from \"react\";\nimport {completeGfxProps, GFXProps, GFXPropsComplete, LSProps, LSStatus} from \"../utils\"\nimport { createLSInWorker } from \"../worker\";\nimport LSConsole from \"./LSStatusConsole\";\nimport LSTextEditor from \"./LSTextEditor\";\n\ninterface LSEditorProps {\n  onLSReset(LS: LSystem): void;\n  onLSIterated(LS: LSystem): void;\n  onGFXPropsUpdate(gfxProps: GFXProps): void;\n  initCode?: string\n  initGFXProps?: GFXProps\n}\n\n\n\nexport const LSEditor: React.FunctionComponent<LSEditorProps> = ({\n  onLSReset,\n  onLSIterated,\n  onGFXPropsUpdate,\n  initCode,\n  initGFXProps,\n}) => {\n  const [lSystem, setLSystem] = useState<LSystem>();\n  const [status, setStatus] = useState<LSStatus>();\n  const [gfxProps, setGFXProps] = useState<GFXPropsComplete>(completeGfxProps(initGFXProps));\n\n  const onLSUpdated = (newStatus: LSStatus, lsProps?: LSProps) => {\n    //IFF no errors -\n    setStatus(newStatus);\n    if (newStatus.state !== \"error\" && lsProps && lsProps.axiom && lsProps.productions) {\n      //TODO: Somehow what if one of these is false\n      try {\n        setStatus({ state: \"compiling\" });\n        createLSInWorker({ ...lsProps, iterations: gfxProps.iterations }).then((updatedLS) => {\n          setLSystem(updatedLS);\n          setStatus({ state: \"compiled\" });\n        });\n      } catch (e) {\n        setStatus({ state: \"error\", errors: [e] });\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (lSystem) onLSReset(lSystem);\n  }, [lSystem, onLSReset]);\n\n  return (\n    <div>\n      <LSTextEditor initialCode={initCode} onLSWasEdited={onLSUpdated} />\n      <LSConsole status={status} />\n    </div>\n  );\n};\n","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSEditor/LSStatusConsole.tsx",["130"],"import { LSStatus } from \"../utils\";\nimport React, {useState, useEffect} from \"react\"\n\ninterface LSConsoleProps {\n  status?: LSStatus\n}\n\nconst LSConsole : React.FunctionComponent<LSConsoleProps> = ( {status}) => {\n  \n  const [ statusLog, setStatusLog] = useState<JSX.Element[]>([]);\n  const [ currentStatus, setCurrentStatus] = useState<JSX.Element>( statusToEl(status));\n\n  useEffect(() => {\n    const statusEl = statusToEl(status);\n    setStatusLog((prevLog) => [...prevLog, statusEl]);\n    setCurrentStatus(statusEl);\n  }, [status])\n\n  return currentStatus;\n}\n\nconst statusToEl = (status: LSStatus | undefined) : JSX.Element => {\n  if (!status) {\n    return <div> No status available </div>\n  }\n  switch (status.state) {\n    case \"error\":\n      return <div> <span> Status has error</span> <ul> </ul></div> \n    case \"compiling\":\n      return <div> Compiling </div>\n    case \"compiled\":\n      return <div> Compiled </div>\n    case \"ready\":\n      return <div> About to compile... </div>\n    default:\n      return <div> idk lol </div>\n\n  }\n}\n\nexport default LSConsole;","/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSEditor/LSCodeEditor.tsx",[],"/Users/bhavik/Documents/Active/tend/lsystem-examples/src/components/LSEditor/LSGFXEditor.tsx",[],{"ruleId":"131","replacedBy":"132"},{"ruleId":"133","replacedBy":"134"},{"ruleId":"135","severity":1,"message":"136","line":1,"column":8,"nodeType":"137","messageId":"138","endLine":1,"endColumn":10},{"ruleId":"135","severity":1,"message":"139","line":3,"column":10,"nodeType":"137","messageId":"138","endLine":3,"endColumn":26},{"ruleId":"135","severity":1,"message":"140","line":4,"column":8,"nodeType":"137","messageId":"138","endLine":4,"endColumn":21},{"ruleId":"135","severity":1,"message":"141","line":4,"column":29,"nodeType":"137","messageId":"138","endLine":4,"endColumn":37},{"ruleId":"142","severity":1,"message":"143","line":43,"column":40,"nodeType":"144","messageId":"145","endLine":43,"endColumn":42},{"ruleId":"135","severity":1,"message":"146","line":69,"column":9,"nodeType":"137","messageId":"138","endLine":69,"endColumn":15},{"ruleId":"142","severity":1,"message":"143","line":70,"column":40,"nodeType":"144","messageId":"145","endLine":70,"endColumn":42},{"ruleId":"142","severity":1,"message":"143","line":105,"column":40,"nodeType":"144","messageId":"145","endLine":105,"endColumn":42},{"ruleId":"135","severity":1,"message":"147","line":3,"column":38,"nodeType":"137","messageId":"138","endLine":3,"endColumn":50},{"ruleId":"135","severity":1,"message":"148","line":3,"column":52,"nodeType":"137","messageId":"138","endLine":3,"endColumn":63},{"ruleId":"135","severity":1,"message":"149","line":7,"column":10,"nodeType":"137","messageId":"138","endLine":7,"endColumn":31},{"ruleId":"150","severity":1,"message":"151","line":28,"column":37,"nodeType":"152","messageId":"153","endLine":28,"endColumn":38,"suggestions":"154"},{"ruleId":"142","severity":1,"message":"143","line":76,"column":85,"nodeType":"144","messageId":"145","endLine":76,"endColumn":87},{"ruleId":"155","severity":1,"message":"156","line":81,"column":6,"nodeType":"157","endLine":81,"endColumn":50,"suggestions":"158"},{"ruleId":"142","severity":1,"message":"143","line":36,"column":19,"nodeType":"144","messageId":"145","endLine":36,"endColumn":21},{"ruleId":"135","severity":1,"message":"159","line":3,"column":8,"nodeType":"137","messageId":"138","endLine":3,"endColumn":20},{"ruleId":"135","severity":1,"message":"160","line":3,"column":19,"nodeType":"137","messageId":"138","endLine":3,"endColumn":24},{"ruleId":"135","severity":1,"message":"161","line":3,"column":26,"nodeType":"137","messageId":"138","endLine":3,"endColumn":36},{"ruleId":"135","severity":1,"message":"162","line":30,"column":20,"nodeType":"137","messageId":"138","endLine":30,"endColumn":31},{"ruleId":"135","severity":1,"message":"163","line":10,"column":11,"nodeType":"137","messageId":"138","endLine":10,"endColumn":20},"no-native-reassign",["164"],"no-negated-in-lhs",["165"],"@typescript-eslint/no-unused-vars","'p5' is defined but never used.","Identifier","unusedVar","'completeGfxProps' is defined but never used.","'LSImageViewer' is defined but never used.","'GFXProps' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'mouseX' is assigned a value but never used.","'P5CanvasType' is defined but never used.","'renderTypes' is defined but never used.","'createImportSpecifier' is defined but never used.","no-useless-escape","Unnecessary escape character: \\/.","TemplateElement","unnecessaryEscape",["166","167"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'stopIterationAnimation'. Either include it or remove the dependency array.","ArrayExpression",["168"],"'LSCustomizer' is defined but never used.","'Axiom' is defined but never used.","'Production' is defined but never used.","'setGFXProps' is assigned a value but never used.","'statusLog' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"messageId":"169","fix":"170","desc":"171"},{"messageId":"172","fix":"173","desc":"174"},{"desc":"175","fix":"176"},"removeEscape",{"range":"177","text":"178"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"179","text":"180"},"Replace the `\\` with `\\\\` to include the actual backslash character.","Update the dependencies array to be: [currentIteration, props.lSystem.iterations, stopIterationAnimation]",{"range":"181","text":"182"},[919,920],"",[919,919],"\\",[2948,2992],"[currentIteration, props.lSystem.iterations, stopIterationAnimation]"]